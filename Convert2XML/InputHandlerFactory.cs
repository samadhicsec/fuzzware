using System;
using System.Collections.Generic;
using System.Text;
using System.Reflection;
using Fuzzware.Common;
using Fuzzware.Schemas.AutoGenerated;

namespace Fuzzware.Convert2XML
{
    public class InputHandlerFactory
    {
        static public InputHandler GetInputHandler(Fuzzware.Schemas.AutoGenerated.DataInputHandler oDataInput)
        {
            if (oDataInput.Item is XMLFileInput)
                return new XMLInput();
            else if (oDataInput.Item is Fuzzware.Schemas.AutoGenerated.Convert2XMLInput)
                return new Convert2XMLInput();
            else if (oDataInput.Item is PDMLInput)
                return new PDMLInputHandler();
            else if (oDataInput.Item is WSDLInput)
                return new WSDLInputHandler();
            else if (oDataInput.Item is COMInput)
                return new COMInputHandler();
            else if (oDataInput.Item is ProtocolDefnInput)
                return new ProtocolDefnInputHandler();
            else if (oDataInput.Item is UserDefinedCode)
                return new UserInputHandler();
            else
                Log.Write(MethodBase.GetCurrentMethod(), "Unrecognised input choice", Log.LogType.Error);

            return null;
        }
    }
}
